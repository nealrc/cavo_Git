$(document).ready(function(){$("#usertable").jqGrid({url:"calls/getstudent.php",datatype:"json",width:700,height:500,colNames:["ID","First name","Last name","Email","Password","Password2","Membership","University","Enrollment Year","Age","Native","Active"],colModel:[{name:"Userid",index:"Userid",width:50,search:false},{name:"Firstname",index:"Firstname",width:80,search:true,searchoptions:{sopt:["eq","cn"]},editable:true,editoptions:{},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},
{name:"Lastname",index:"Lastname",width:80,search:true,searchoptions:{sopt:["eq","cn"]},editable:true,editoptions:{},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"Email",index:"Email",width:150,search:true,searchoptions:{sopt:["eq","cn"]},editable:true,editoptions:{},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"Password",index:"Password",hidden:true,search:false,editable:true,edittype:"password",editoptions:{},editrules:{edithidden:true,
required:false}},{name:"Password2",index:"Password2",hidden:true,search:false,editable:true,edittype:"password",editrules:{edithidden:true,required:false},formoptions:{label:"Re-type Password"}},{name:"Membership",index:"Membership",width:80,search:true,stype:"select",searchoptions:{dataUrl:"calls/getmembership.php"},editable:true,edittype:"select",editoptions:{dataUrl:"calls/getmembership.php"},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"University",index:"University",
width:180,search:true,searchoptions:{dataUrl:"calls/getschool.php"},editable:true,edittype:"select",editoptions:{dataUrl:"calls/getschool.php"},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"EnrollmentYear",index:"EnrollmentYear",width:80,search:true,searchoptions:{sopt:["eq","cn"]},editable:true,editoptions:{},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"age",index:"age",width:100,search:true,stype:"select",searchoptions:{dataUrl:"calls/getagerange.php"},
editable:true,edittype:"select",editoptions:{dataUrl:"calls/getagerange.php"},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"native",index:"native",width:50,search:true,stype:"select",searchoptions:{value:"1:Yes;0:No"},editable:true,edittype:"select",editoptions:{value:"1:Yes;0:No"},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}},{name:"Active",index:"Active",width:50,search:true,stype:"select",searchoptions:{value:"1:Yes;0:No"},
editable:true,edittype:"select",editoptions:{value:"1:Yes;0:No"},editrules:{required:true},formoptions:{elmprefix:"<span class='req'>*</span>"}}],rowNum:20,rowList:[20,30,50],sortname:"Userid",pager:"#navpager",viewrecords:true,sortorder:"desc",caption:"Users...",loadComplete:function(a){parseInt(a)==100&&info_dialog("error","No records found!","OK","../../../Assets/js/jquery-ui/css/south-street/images/")},editurl:"calls/editstd.php"}).jqGrid("navGrid","#navpager",{edit:true,add:true,
del:true,search:true,refresh:true},{width:360,bSubmit:"Save",bCancel:"Cancel",beforeShowForm:function(){$("#password, #password2").prev("span").remove()},afterSubmit:function(a){return a.responseText=="success"?[true,"",""]:[false,a.responseText,""]}},{width:360,bSubmit:"Save",bCancel:"Cancel",beforeShowForm:function(){$("<span class='req'>*</span>").insertBefore("#password, #password2")},afterSubmit:function(a){return a.responseText=="success"?[true,"",""]:[false,a.responseText,""]}},{},{multipleSearch:true},
{})});